[
  [
    {
      "type": "cmd",
      "data": "if",
      "source": "if battery_percent < 100 and battery_percent > 0 ("
    },
    {
      "type": "log",
      "data": "and",
      "source": "and",
      "left": {
        "type": "cmp",
        "data": "<",
        "source": "<",
        "left": {
          "type": "var",
          "data": "battery_percent",
          "source": "battery_percent"
        },
        "right": {
          "type": "num",
          "data": 100,
          "source": "100"
        }
      },
      "right": {
        "type": "cmp",
        "data": ">",
        "source": ">",
        "left": {
          "type": "var",
          "data": "battery_percent",
          "source": "battery_percent"
        },
        "right": {
          "type": "num",
          "data": 0,
          "source": "0"
        }
      }
    },
    {
      "type": "blk",
      "data": [
        [
          {
            "type": "asi",
            "data": "=",
            "source": "width = 60",
            "left": {
              "type": "var",
              "data": "width",
              "source": "width"
            },
            "right": {
              "type": "num",
              "data": 60,
              "source": "60"
            }
          }
        ],
        [
          {
            "type": "cmd",
            "data": "set_y",
            "source": "set_y y"
          },
          {
            "type": "var",
            "data": "y",
            "source": "y"
          }
        ],
        [
          {
            "type": "cmd",
            "data": "square",
            "source": "square 60 height 20 1 0 1 : chx#30"
          },
          {
            "type": "num",
            "data": 60,
            "source": "60"
          },
          {
            "type": "var",
            "data": "height",
            "source": "height"
          },
          {
            "type": "num",
            "data": 20,
            "source": "20"
          },
          {
            "type": "num",
            "data": 1,
            "source": "1"
          },
          {
            "type": "num",
            "data": 0,
            "source": "0"
          },
          {
            "type": "num",
            "data": 1,
            "source": "1"
          },
          {
            "type": "mod",
            "data": [
              "chx",
              {
                "type": "num",
                "data": 30,
                "source": "30"
              }
            ],
            "source": "chx#30"
          }
        ],
        [
          {
            "type": "asi",
            "data": "=",
            "source": "x = x_position",
            "left": {
              "type": "var",
              "data": "x",
              "source": "x"
            },
            "right": {
              "type": "var",
              "data": "x_position",
              "source": "x_position"
            }
          }
        ],
        [
          {
            "type": "cmd",
            "data": "if",
            "source": "if clicked \"open = Battery_Info\""
          },
          {
            "type": "var",
            "data": "clicked",
            "source": "clicked"
          },
          {
            "type": "str",
            "data": "\"open = Battery_Info\"",
            "source": "\"open = Battery_Info\""
          }
        ],
        [
          {
            "type": "cmd",
            "data": "if",
            "source": "if battery_temp != battery_percent or bg_redrawn or dock_changed_w ("
          },
          {
            "type": "log",
            "data": "or",
            "source": "or",
            "left": {
              "type": "log",
              "data": "or",
              "source": "or",
              "left": {
                "type": "cmp",
                "data": "!=",
                "source": "!=",
                "left": {
                  "type": "var",
                  "data": "battery_temp",
                  "source": "battery_temp"
                },
                "right": {
                  "type": "var",
                  "data": "battery_percent",
                  "source": "battery_percent"
                }
              },
              "right": {
                "type": "var",
                "data": "bg_redrawn",
                "source": "bg_redrawn"
              }
            },
            "right": {
              "type": "var",
              "data": "dock_changed_w",
              "source": "dock_changed_w"
            }
          },
          {
            "type": "blk",
            "data": [
              [
                {
                  "type": "asi",
                  "data": "=",
                  "source": "battery_temp = battery_percent",
                  "left": {
                    "type": "var",
                    "data": "battery_temp",
                    "source": "battery_temp"
                  },
                  "right": {
                    "type": "var",
                    "data": "battery_percent",
                    "source": "battery_percent"
                  }
                }
              ],
              [
                {
                  "type": "cmd",
                  "data": "square",
                  "source": "square 60 height 20 1"
                },
                {
                  "type": "num",
                  "data": 60,
                  "source": "60"
                },
                {
                  "type": "var",
                  "data": "height",
                  "source": "height"
                },
                {
                  "type": "num",
                  "data": 20,
                  "source": "20"
                },
                {
                  "type": "num",
                  "data": 1,
                  "source": "1"
                }
              ],
              [
                {
                  "type": "cmd",
                  "data": "if",
                  "source": "if battery_charging \"c global_accent\" else \"c icon_colour\""
                },
                {
                  "type": "var",
                  "data": "battery_charging",
                  "source": "battery_charging"
                },
                {
                  "type": "str",
                  "data": "\"c global_accent\"",
                  "source": "\"c global_accent\""
                },
                {
                  "type": "var",
                  "data": "else",
                  "source": "else"
                },
                {
                  "type": "str",
                  "data": "\"c icon_colour\"",
                  "source": "\"c icon_colour\""
                }
              ],
              [
                {
                  "type": "cmd",
                  "data": "text",
                  "source": "text `${battery_percent}%` 10 : chx#-25"
                },
                {
                  "type": "tsr",
                  "data": [
                    {
                      "type": "var",
                      "data": "battery_percent",
                      "source": "battery_percent"
                    },
                    {
                      "type": "str",
                      "data": "%"
                    }
                  ],
                  "source": "`${battery_percent}%`"
                },
                {
                  "type": "num",
                  "data": 10,
                  "source": "10"
                },
                {
                  "type": "mod",
                  "data": [
                    "chx",
                    {
                      "type": "num",
                      "data": -25,
                      "source": "-25"
                    }
                  ],
                  "source": "chx#-25"
                }
              ]
            ],
            "source": "(\n    battery_temp = battery_percent\n    square 60 height 20 1\n    if battery_charging \"c global_accent\" else \"c icon_colour\"\n    text `${battery_percent}%` 10 : chx#-25\n  )"
          }
        ]
      ],
      "source": "(\n  width = 60\n  set_y y\n  square 60 height 20 1 0 1 : chx#30\n  x = x_position\n  if clicked \"open = Battery_Info\"\n  if battery_temp != battery_percent or bg_redrawn or dock_changed_w (\n    battery_temp = battery_percent\n    square 60 height 20 1\n    if battery_charging \"c global_accent\" else \"c icon_colour\"\n    text `${battery_percent}%` 10 : chx#-25\n  )\n)"
    }
  ]
]